<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Member Login — QFS</title>

<link rel="icon" type="image/png"
  href="https://github.com/qfsnesaragesara/BTC-METAL-CARD-PAYMENT/blob/main/photo%201.jpg?raw=true" />

<!-- Supabase JS -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
  :root{
    --bg:#020617;
    --glass:rgba(15,23,42,0.88);
    --border:rgba(148,163,184,0.45);
    --text:#e5e7eb;
    --muted:#9ca3af;
    --accent:#38bdf8;
    --accent2:#a855f7;
  }

  *{box-sizing:border-box}

  body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:24px;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:
      radial-gradient(circle at top, rgba(56,189,248,0.32), transparent 55%),
      radial-gradient(circle at bottom, rgba(147,51,234,0.32), transparent 60%),
      var(--bg);
    color:var(--text);
  }

  .card{
    width:100%;
    max-width:420px;
    padding:28px;
    border-radius:28px;
    background:linear-gradient(145deg, rgba(15,23,42,0.96), rgba(15,23,42,0.86));
    border:1px solid var(--border);
    box-shadow:0 30px 120px rgba(2,6,23,0.95);
    backdrop-filter:blur(26px);
    text-align:center;
  }

  .logo{
    width:72px;
    height:72px;
    border-radius:18px;
    object-fit:cover;
    margin-bottom:12px;
    box-shadow:
      0 14px 40px rgba(2,6,23,0.95),
      0 0 0 1px rgba(148,163,184,0.35);
  }

  h1{
    margin:8px 0 6px;
    font-size:22px;
    font-weight:900;
  }

  .sub{
    font-size:13px;
    color:var(--muted);
    margin-bottom:18px;
  }

  label{
    display:block;
    text-align:left;
    font-size:12px;
    font-weight:700;
    color:#cbd5f5;
    margin-top:14px;
  }

  input{
    width:100%;
    padding:12px 14px;
    margin-top:6px;
    border-radius:14px;
    border:1px solid rgba(148,163,184,0.45);
    background:rgba(255,255,255,0.06);
    color:var(--text);
    font-size:14px;
    outline:none;
  }

  .btn{
    width:100%;
    margin-top:20px;
    padding:14px;
    border-radius:999px;
    border:none;
    cursor:pointer;
    font-weight:900;
    font-size:14px;
    background:linear-gradient(135deg, var(--accent), var(--accent2));
    color:#fff;
  }

  .error{
    margin-top:14px;
    font-size:13px;
    color:#fecaca;
    display:none;
  }

  .muted-link{
    margin-top:16px;
    font-size:12px;
    color:var(--muted);
  }
</style>
</head>

<body>

<div class="card">
  <img class="logo"
    src="https://github.com/qfsnesaragesara/BTC-METAL-CARD-PAYMENT/blob/main/photo%201.jpg?raw=true"
    alt="QFS NESARA GESARA">

  <h1>Member Login</h1>
  <div class="sub">Secure access to your QFS allocation</div>

  <form id="loginForm">
    <label>Email Address</label>
    <input type="email" id="email" required placeholder="you@example.com">

    <label>Password</label>
    <input type="password" id="password" required placeholder="••••••••">

    <button class="btn" type="submit">Sign In</button>
  </form>

  <div id="errorBox" class="error"></div>

  <div class="muted-link">
    Access is available after card order & confirmation.
  </div>
</div>

<script>
  /************************************************
   * CONFIG — paste your real Supabase credentials
   ************************************************/
  const SUPABASE_URL = "https://qagktukzxtwbjrdgiben.supabase.co";
  const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhZ2t0dWt6eHR3YmpyZGdpYmVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NDA0NTQsImV4cCI6MjA4MzQxNjQ1NH0.cbhSWHGlmhmIt-NmUVBUtAhPpNPDKk4Bz-Gy1TbPzHk";

  const supabase = window.supabase.createClient(
    SUPABASE_URL,
    SUPABASE_ANON_KEY
  );

  const form = document.getElementById("loginForm");
  const errorBox = document.getElementById("errorBox");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    errorBox.style.display = "none";

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value;

    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password
    });

    if (error) {
      errorBox.textContent = error.message;
      errorBox.style.display = "block";
      return;
    }

    // Save email for UI convenience
    localStorage.setItem("qfsEmail", email);

    // Redirect to portal
    window.location.href = "portal.html";
  });

  // Auto-redirect if already logged in
  supabase.auth.getSession().then(({ data }) => {
    if (data.session) {
      window.location.href = "portal.html";
    }
  });
</script>

</body>
</html>
